<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.88" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script data-goatcounter="https://nu11cat.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><title>10.ArrayListæ ¸å¿ƒæºç  | Nu11CatJava</title><meta name="description" content="ä¸€ä¸ªJavaå­¦ä¹ è€…è®°å½•å­¦ä¹ è¿‡ç¨‹ã€ç§¯ç´¯çŸ¥è¯†ã€åˆ†äº«ç»éªŒã€é™ªä¼´åŒè¡Œè€…ä¸€èµ·æˆé•¿çš„ç½‘ç«™">
    <link rel="preload" href="/assets/style-ClTTZfAw.css" as="style"><link rel="stylesheet" href="/assets/style-ClTTZfAw.css">
    <link rel="modulepreload" href="/assets/app-BbsWlyC7.js"><link rel="modulepreload" href="/assets/10.ArrayList æ ¸å¿ƒæºç .html-C364f8jM.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-DtSCDrla.js" as="script"><link rel="prefetch" href="/assets/index.html-uI-IoRvn.js" as="script"><link rel="prefetch" href="/assets/index.html-BcaIXjPT.js" as="script"><link rel="prefetch" href="/assets/1.ç®—æ³•å­¦ä¹ è·¯çº¿ _ åˆ·é¢˜æ”»ç•¥.html-DL-mAWlj.js" as="script"><link rel="prefetch" href="/assets/2.æ•°æ®ç»“æ„ä¸“é¢˜.html-B9dwVEG2.js" as="script"><link rel="prefetch" href="/assets/3.ç®—æ³•æ€æƒ³ä¸æ¨¡æ¿.html-CIsZKyBe.js" as="script"><link rel="prefetch" href="/assets/4.é«˜é¢‘é¢˜åˆ†ç±»æ•´ç†.html-Djf0f2iZ.js" as="script"><link rel="prefetch" href="/assets/5.æˆ‘çš„åˆ·é¢˜è®°å½•.html-_Y89ZZt4.js" as="script"><link rel="prefetch" href="/assets/index.html-BCbCtObU.js" as="script"><link rel="prefetch" href="/assets/index.html-SZHOQFRz.js" as="script"><link rel="prefetch" href="/assets/1.å®˜æ–¹èµ„æº.html-DdVG4rn6.js" as="script"><link rel="prefetch" href="/assets/2.åœ¨çº¿å·¥å…· _ å¼€å‘èµ„æº.html-av2Tjrel.js" as="script"><link rel="prefetch" href="/assets/3.ä¼˜è´¨å¼€æºé¡¹ç›®æ¨è.html-BaabujJ4.js" as="script"><link rel="prefetch" href="/assets/4.å­¦ä¹ èµ„æ–™ä¸è·¯çº¿.html-yWi0rPxh.js" as="script"><link rel="prefetch" href="/assets/5.é¢è¯• _ å…«è‚¡æ–‡èµ„æ–™.html-DAGQ4OzA.js" as="script"><link rel="prefetch" href="/assets/6.åˆ·é¢˜ _ ç®—æ³•ç»ƒä¹ .html-5VKvt6xi.js" as="script"><link rel="prefetch" href="/assets/7.æŠ€æœ¯ç¤¾åŒº _ åšå®¢.html-BqJqoQnn.js" as="script"><link rel="prefetch" href="/assets/index.html-Bm7qEF4F.js" as="script"><link rel="prefetch" href="/assets/å…³äºä½œè€….html-CqQUwdSG.js" as="script"><link rel="prefetch" href="/assets/æ‚è®°-ç¢ç¢å¿µ.html-BNsNz03e.js" as="script"><link rel="prefetch" href="/assets/ç«èµ›å¿ƒå¾—.html-Dxa2b-Am.js" as="script"><link rel="prefetch" href="/assets/1.é¢å‘å¯¹è±¡ç¼–ç¨‹.html-C6Pl0FfY.js" as="script"><link rel="prefetch" href="/assets/2.é›†åˆæ¡†æ¶.html-B60oS9Sc.js" as="script"><link rel="prefetch" href="/assets/3.å¼‚å¸¸å¤„ç†.html-DZYhua5Z.js" as="script"><link rel="prefetch" href="/assets/4.Java8ç‰¹æ€§.html-ClsE6v8i.js" as="script"><link rel="prefetch" href="/assets/5.å¹¶å‘ä¸å¤šçº¿ç¨‹.html-CHHPRQS6.js" as="script"><link rel="prefetch" href="/assets/6.JVM å†…å­˜æ¨¡å‹ä¸åƒåœ¾å›æ”¶.html-DzZ-9XNl.js" as="script"><link rel="prefetch" href="/assets/7.Java æ€§èƒ½ä¼˜åŒ–.html-DOaMQo4j.js" as="script"><link rel="prefetch" href="/assets/8.JavaåŸºç¡€-æœºåˆ¶.html-CvCBMr1H.js" as="script"><link rel="prefetch" href="/assets/9.JavaåŸºç¡€-ç¼–è¯‘è§£é‡Š.html-C7H_ohxK.js" as="script"><link rel="prefetch" href="/assets/1.Spring Core.html-Bo7mu98N.js" as="script"><link rel="prefetch" href="/assets/2.Spring Boot.html-Dx-Sez2M.js" as="script"><link rel="prefetch" href="/assets/3.Spring MVC.html-C--CyRyA.js" as="script"><link rel="prefetch" href="/assets/4.Spring Data.html-5i5ayMkZ.js" as="script"><link rel="prefetch" href="/assets/5.Spring Security.html-BfTDctCH.js" as="script"><link rel="prefetch" href="/assets/6.Spring Cloud.html-vW7KQtXr.js" as="script"><link rel="prefetch" href="/assets/7.Spring Batch.html-DoZEFkIz.js" as="script"><link rel="prefetch" href="/assets/1.å…³ç³»å‹æ•°æ®åº“.html-BbYtYK3_.js" as="script"><link rel="prefetch" href="/assets/2.JDBC.html-sSYJN3ss.js" as="script"><link rel="prefetch" href="/assets/3.ORM æ¡†æ¶.html-fSNj2-S4.js" as="script"><link rel="prefetch" href="/assets/4.æ•°æ®åº“ä¼˜åŒ–.html-Ba68WQMg.js" as="script"><link rel="prefetch" href="/assets/5.NoSQL æ•°æ®åº“.html-D5vm8qs3.js" as="script"><link rel="prefetch" href="/assets/6.åˆ†å¸ƒå¼æ•°æ®åº“ä¸åˆ†åº“åˆ†è¡¨.html-Dd4q7_Nk.js" as="script"><link rel="prefetch" href="/assets/1.HTTPåè®®ä¸RESTfulè®¾è®¡.html-CB1pW0eM.js" as="script"><link rel="prefetch" href="/assets/2.Spring MVCä¸WebFluxå“åº”å¼ç¼–ç¨‹.html-C80LAgxD.js" as="script"><link rel="prefetch" href="/assets/3.å¼‚æ­¥éé˜»å¡ä¸ç½‘ç»œä¼˜åŒ–.html-YSlfkmQB.js" as="script"><link rel="prefetch" href="/assets/4.Webå®‰å…¨é˜²å¾¡.html-C-mmZEVy.js" as="script"><link rel="prefetch" href="/assets/1.å¾®æœåŠ¡æ‹†åˆ†ä¸é€šä¿¡æ¨¡å¼.html-Cg42W4jo.js" as="script"><link rel="prefetch" href="/assets/2.Spring Cloud Alibabaç”Ÿæ€.html-DjjM3oid.js" as="script"><link rel="prefetch" href="/assets/3.åˆ†å¸ƒå¼äº‹åŠ¡.html-CqW2KSR1.js" as="script"><link rel="prefetch" href="/assets/4.äº‘åŸç”Ÿä¸æœåŠ¡ç½‘æ ¼.html-BqSWMzWz.js" as="script"><link rel="prefetch" href="/assets/1.å¤šçº§ç¼“å­˜æ¶æ„.html-CEgEh7l0.js" as="script"><link rel="prefetch" href="/assets/2.Redisé«˜é˜¶å®æˆ˜.html-Cej9-1o-.js" as="script"><link rel="prefetch" href="/assets/3.JVMè°ƒä¼˜ä¸å†…å­˜ç®¡ç†.html-DYoHgYXB.js" as="script"><link rel="prefetch" href="/assets/4.é«˜å¹¶å‘è®¾è®¡.html-BgkgmlTa.js" as="script"><link rel="prefetch" href="/assets/1.è®¤è¯ä¸æˆæƒ.html-CZKGhtxN.js" as="script"><link rel="prefetch" href="/assets/2.å®‰å…¨é˜²å¾¡.html-C23zM_2d.js" as="script"><link rel="prefetch" href="/assets/3.éšç§åˆè§„.html-CdUxtesB.js" as="script"><link rel="prefetch" href="/assets/1.Kubernetesè¿›é˜¶.html-D9SWyTx9.js" as="script"><link rel="prefetch" href="/assets/2.CICDè‡ªåŠ¨åŒ–.html-DYrcI8Fr.js" as="script"><link rel="prefetch" href="/assets/3.ç›‘æ§ä¸æ—¥å¿—ä½“ç³».html-CffWzE9o.js" as="script"><link rel="prefetch" href="/assets/1.é¢†åŸŸé©±åŠ¨è®¾è®¡.html-CNXyzu4u.js" as="script"><link rel="prefetch" href="/assets/2.é«˜å¹¶å‘ç³»ç»Ÿ.html-DzMSuGBD.js" as="script"><link rel="prefetch" href="/assets/3.äº‘åŸç”Ÿæ¶æ„æ¨¡å¼.html-OYQ5Vk5s.js" as="script"><link rel="prefetch" href="/assets/1.æ•°æ®ç±»å‹ä¸OOPæ ¸å¿ƒ.html-CSw8ZCoP.js" as="script"><link rel="prefetch" href="/assets/2.é›†åˆæ¡†æ¶åº•å±‚åŸç†.html-9FHfF4F9.js" as="script"><link rel="prefetch" href="/assets/3.å¼‚å¸¸å¤„ç†æœºåˆ¶.html-CorWDQRr.js" as="script"><link rel="prefetch" href="/assets/1.ç»“æ„åŒ–å›ç­”æ¨¡æ¿.html-BUjfxM23.js" as="script"><link rel="prefetch" href="/assets/2.åœºæ™¯é¢˜æ‹†è§£æ–¹æ³•.html-Dy396YyG.js" as="script"><link rel="prefetch" href="/assets/1.å†…å­˜æ¨¡å‹ä¸åƒåœ¾å›æ”¶.html-DTBAMHMd.js" as="script"><link rel="prefetch" href="/assets/2.ç±»åŠ è½½æœºåˆ¶.html-BWsUdLOK.js" as="script"><link rel="prefetch" href="/assets/1.çº¿ç¨‹åŒæ­¥ä¸é”æœºåˆ¶.html-DKok9dud.js" as="script"><link rel="prefetch" href="/assets/2.çº¿ç¨‹æ± æ ¸å¿ƒé—®é¢˜.html-BT_iVs60.js" as="script"><link rel="prefetch" href="/assets/3.JMMä¸å¹¶å‘å·¥å…·.html-BqNQRAlM.js" as="script"><link rel="prefetch" href="/assets/1.IoCä¸AOPåŸç†.html-CtP8VWUE.js" as="script"><link rel="prefetch" href="/assets/2.Spring Bootæ ¸å¿ƒæœºåˆ¶.html-Dm-4qSqy.js" as="script"><link rel="prefetch" href="/assets/1.MySQLç´¢å¼•ä¸äº‹åŠ¡.html-CGIv7kOf.js" as="script"><link rel="prefetch" href="/assets/2.ORMæ¡†æ¶å¯¹æ¯”.html-CMBYiqlf.js" as="script"><link rel="prefetch" href="/assets/1.åˆ†å¸ƒå¼åœºæ™¯è§£å†³æ–¹æ¡ˆ.html-Be-tlMVT.js" as="script"><link rel="prefetch" href="/assets/2.é«˜å¹¶å‘è®¾è®¡é¢˜.html-D5CMGV2e.js" as="script"><link rel="prefetch" href="/assets/1.æ¶ˆæ¯é˜Ÿåˆ—æ ¸å¿ƒé—®é¢˜.html-j1LJ9KN4.js" as="script"><link rel="prefetch" href="/assets/2.RPCæ¡†æ¶åŸç†.html-D9H24x9P.js" as="script"><link rel="prefetch" href="/assets/1.TCPåè®®ä¸IOæ¨¡å‹.html-Fszy80oi.js" as="script"><link rel="prefetch" href="/assets/1.æŠ€æœ¯é€‰å‹ä¸ä¼˜åŒ–.html-CBP_7Z42.js" as="script"><link rel="prefetch" href="/assets/2.æ•…éšœæ’æŸ¥å®æˆ˜.html-K2CuyNYv.js" as="script"><link rel="prefetch" href="/assets/å‘¨è®°æ¨¡æ¿.html-C6pzDJtM.js" as="script"><link rel="prefetch" href="/assets/é¦–é¡µ.html-0aV3NcVn.js" as="script"><link rel="prefetch" href="/assets/404.html-Ckwcqcr1.js" as="script"><link rel="prefetch" href="/assets/index.html-Cm1lRyiC.js" as="script"><link rel="prefetch" href="/assets/index.html-CHwhDstN.js" as="script"><link rel="prefetch" href="/assets/index.html-CNwnMSP9.js" as="script"><link rel="prefetch" href="/assets/index.html-CXW9kRV3.js" as="script"><link rel="prefetch" href="/assets/index.html-CMxUozWy.js" as="script"><link rel="prefetch" href="/assets/index.html-ClEASnaB.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd9dxu6N.js" as="script"><link rel="prefetch" href="/assets/index.html-DZwq4kuj.js" as="script"><link rel="prefetch" href="/assets/index.html-DeA0MvwH.js" as="script"><link rel="prefetch" href="/assets/index.html-CgIoP16p.js" as="script"><link rel="prefetch" href="/assets/index.html-CS3W6OHb.js" as="script"><link rel="prefetch" href="/assets/index.html-C7v5vE1X.js" as="script"><link rel="prefetch" href="/assets/index.html-BRap9IMa.js" as="script"><link rel="prefetch" href="/assets/index.html-C62vZ2iR.js" as="script"><link rel="prefetch" href="/assets/index.html-BqX1fVj_.js" as="script"><link rel="prefetch" href="/assets/index.html-DAbey7z_.js" as="script"><link rel="prefetch" href="/assets/index.html-Dk52FHP0.js" as="script"><link rel="prefetch" href="/assets/index.html-YMyQqVc9.js" as="script"><link rel="prefetch" href="/assets/index.html-Bid2fJ3d.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ0iNKRm.js" as="script"><link rel="prefetch" href="/assets/index.html-Balmz_eq.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="Take me home"><!----><!----><span class="vp-site-name">Nu11CatJava</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="é¦–é¡µ"><!---->é¦–é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/" aria-label="å­¦ä¹ ç¯‡"><!---->å­¦ä¹ ç¯‡<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/2.%E9%9D%A2%E8%AF%95%E7%AF%87/" aria-label="é¢è¯•ç¯‡"><!---->é¢è¯•ç¯‡<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/3.%E7%AE%97%E6%B3%95%E7%AF%87/" aria-label="ç®—æ³•ç¯‡"><!---->ç®—æ³•ç¯‡<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/4.%E9%A1%B9%E7%9B%AE%E7%AF%87/" aria-label="é¡¹ç›®ç¯‡"><!---->é¡¹ç›®ç¯‡<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/5.%E8%B5%84%E6%BA%90%E6%95%B4%E7%90%86/" aria-label="èµ„æºæ•´ç†"><!---->èµ„æºæ•´ç†<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/6.%E5%85%B3%E4%BA%8E%E6%88%91/" aria-label="å…³äºæˆ‘"><!---->å…³äºæˆ‘<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Nu11Cat/Nu11Cat.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="é¦–é¡µ"><!---->é¦–é¡µ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">1.å­¦ä¹ ç¯‡</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/" aria-label="å­¦ä¹ ç¯‡ï½œJava åç«¯æ ¸å¿ƒçŸ¥è¯†ä½“ç³»"><!---->å­¦ä¹ ç¯‡ï½œJava åç«¯æ ¸å¿ƒçŸ¥è¯†ä½“ç³»<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">1. JavaåŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html" aria-label="1.é¢å‘å¯¹è±¡ç¼–ç¨‹"><!---->1.é¢å‘å¯¹è±¡ç¼–ç¨‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/2.%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.html" aria-label="2.é›†åˆæ¡†æ¶"><!---->2.é›†åˆæ¡†æ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/3.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html" aria-label="3.å¼‚å¸¸å¤„ç†"><!---->3.å¼‚å¸¸å¤„ç†<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/4.Java8%E7%89%B9%E6%80%A7.html" aria-label="4.Java8ç‰¹æ€§"><!---->4.Java8ç‰¹æ€§<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/5.%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%A4%9A%E7%BA%BF%E7%A8%8B.html" aria-label="5.å¹¶å‘ä¸å¤šçº¿ç¨‹"><!---->5.å¹¶å‘ä¸å¤šçº¿ç¨‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/6.JVM%20%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" aria-label="6.JVM å†…å­˜æ¨¡å‹ä¸åƒåœ¾å›æ”¶"><!---->6.JVM å†…å­˜æ¨¡å‹ä¸åƒåœ¾å›æ”¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/7.Java%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" aria-label="7.Java æ€§èƒ½ä¼˜åŒ–"><!---->7.Java æ€§èƒ½ä¼˜åŒ–<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/8.Java%E5%9F%BA%E7%A1%80-%E6%9C%BA%E5%88%B6.html" aria-label="8.JavaåŸºç¡€-æœºåˆ¶"><!---->8.JavaåŸºç¡€-æœºåˆ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/9.Java%E5%9F%BA%E7%A1%80-%E7%BC%96%E8%AF%91%E8%A7%A3%E9%87%8A.html" aria-label="9.JavaåŸºç¡€-ç¼–è¯‘è§£é‡Š"><!---->9.JavaåŸºç¡€-ç¼–è¯‘è§£é‡Š<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/10.ArrayList%20%E6%A0%B8%E5%BF%83%E6%BA%90%E7%A0%81.html" aria-label="10.ArrayListæ ¸å¿ƒæºç "><!---->10.ArrayListæ ¸å¿ƒæºç <!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2. Springç”Ÿæ€ç³»ç»Ÿ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">3.æ•°æ®åº“ä¸æŒä¹…åŒ–</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">4. Web å¼€å‘ä¸ç½‘ç»œç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">5.åˆ†å¸ƒå¼ç³»ç»Ÿä¸å¾®æœåŠ¡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">6.ç¼“å­˜ä¸é«˜å¹¶å‘ä¼˜åŒ–</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">7.ç³»ç»Ÿå®‰å…¨ä¸åˆè§„</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">8.äº‘åŸç”Ÿä¸ Dev Ops</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">9.æ¶æ„è®¾è®¡ä¸å¤§å‚å®æˆ˜</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.é¢è¯•ç¯‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">3.ç®—æ³•ç¯‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">4.é¡¹ç›®ç¯‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">5.èµ„æºæ•´ç†</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">6.å…³äºæˆ‘</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->10.ArrayListæ ¸å¿ƒæºç </h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">5/15/25</span><meta property="datePublished" content="2025-05-15T14:56:13.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 15 min</span><meta property="timeRequired" content="PT15M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><p>ArrayListæ ¸å¿ƒæºç </p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span></span>
<span class="line"><span>        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable {</span></span>
<span class="line"><span>    private static final long serialVersionUID = 8683452581122892189L;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * é»˜è®¤åˆå§‹å®¹é‡å¤§å°</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private static final int DEFAULT_CAPACITY = 10;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ç©ºæ•°ç»„ï¼ˆç”¨äºç©ºå®ä¾‹ï¼‰ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private static final Object[] EMPTY_ELEMENTDATA = {};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //ç”¨äºé»˜è®¤å¤§å°ç©ºå®ä¾‹çš„å…±äº«ç©ºæ•°ç»„å®ä¾‹ã€‚</span></span>
<span class="line"><span>    //æˆ‘ä»¬æŠŠå®ƒä»EMPTY_ELEMENTDATAæ•°ç»„ä¸­åŒºåˆ†å‡ºæ¥ï¼Œä»¥çŸ¥é“åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å®¹é‡éœ€è¦å¢åŠ å¤šå°‘ã€‚</span></span>
<span class="line"><span>    private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¿å­˜ArrayListæ•°æ®çš„æ•°ç»„</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    transient Object[] elementData; // non-private to simplify nested class access</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ArrayList æ‰€åŒ…å«çš„å…ƒç´ ä¸ªæ•°</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private int size;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å¸¦åˆå§‹å®¹é‡å‚æ•°çš„æ„é€ å‡½æ•°ï¼ˆç”¨æˆ·å¯ä»¥åœ¨åˆ›å»ºArrayListå¯¹è±¡æ—¶è‡ªå·±æŒ‡å®šé›†åˆçš„åˆå§‹å¤§å°ï¼‰</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public ArrayList(int initialCapacity) {</span></span>
<span class="line"><span>        if (initialCapacity &gt; 0) {</span></span>
<span class="line"><span>            //å¦‚æœä¼ å…¥çš„å‚æ•°å¤§äº0ï¼Œåˆ›å»ºinitialCapacityå¤§å°çš„æ•°ç»„</span></span>
<span class="line"><span>            this.elementData = new Object[initialCapacity];</span></span>
<span class="line"><span>        } else if (initialCapacity == 0) {</span></span>
<span class="line"><span>            //å¦‚æœä¼ å…¥çš„å‚æ•°ç­‰äº0ï¼Œåˆ›å»ºç©ºæ•°ç»„</span></span>
<span class="line"><span>            this.elementData = EMPTY_ELEMENTDATA;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            //å…¶ä»–æƒ…å†µï¼ŒæŠ›å‡ºå¼‚å¸¸</span></span>
<span class="line"><span>            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot; +</span></span>
<span class="line"><span>                    initialCapacity);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * é»˜è®¤æ— å‚æ„é€ å‡½æ•°</span></span>
<span class="line"><span>     * DEFAULTCAPACITY_EMPTY_ELEMENTDATA ä¸º0.åˆå§‹åŒ–ä¸º10ï¼Œä¹Ÿå°±æ˜¯è¯´åˆå§‹å…¶å®æ˜¯ç©ºæ•°ç»„ å½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™æ•°ç»„å®¹é‡æ‰å˜æˆ10</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public ArrayList() {</span></span>
<span class="line"><span>        this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®šé›†åˆçš„å…ƒç´ çš„åˆ—è¡¨ï¼ŒæŒ‰ç…§å®ƒä»¬ç”±é›†åˆçš„è¿­ä»£å™¨è¿”å›çš„é¡ºåºã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public ArrayList(Collection&lt;? extends E&gt; c) {</span></span>
<span class="line"><span>        //å°†æŒ‡å®šé›†åˆè½¬æ¢ä¸ºæ•°ç»„</span></span>
<span class="line"><span>        elementData = c.toArray();</span></span>
<span class="line"><span>        //å¦‚æœelementDataæ•°ç»„çš„é•¿åº¦ä¸ä¸º0</span></span>
<span class="line"><span>        if ((size = elementData.length) != 0) {</span></span>
<span class="line"><span>            // å¦‚æœelementDataä¸æ˜¯Objectç±»å‹æ•°æ®ï¼ˆc.toArrayå¯èƒ½è¿”å›çš„ä¸æ˜¯Objectç±»å‹çš„æ•°ç»„æ‰€ä»¥åŠ ä¸Šä¸‹é¢çš„è¯­å¥ç”¨äºåˆ¤æ–­ï¼‰</span></span>
<span class="line"><span>            if (elementData.getClass() != Object[].class)</span></span>
<span class="line"><span>                //å°†åŸæ¥ä¸æ˜¯Objectç±»å‹çš„elementDataæ•°ç»„çš„å†…å®¹ï¼Œèµ‹å€¼ç»™æ–°çš„Objectç±»å‹çš„elementDataæ•°ç»„</span></span>
<span class="line"><span>                elementData = Arrays.copyOf(elementData, size, Object[].class);</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            // å…¶ä»–æƒ…å†µï¼Œç”¨ç©ºæ•°ç»„ä»£æ›¿</span></span>
<span class="line"><span>            this.elementData = EMPTY_ELEMENTDATA;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¿®æ”¹è¿™ä¸ªArrayListå®ä¾‹çš„å®¹é‡æ˜¯åˆ—è¡¨çš„å½“å‰å¤§å°ã€‚ åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨æ­¤æ“ä½œæ¥æœ€å°åŒ–ArrayListå®ä¾‹çš„å­˜å‚¨ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public void trimToSize() {</span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span>        if (size &lt; elementData.length) {</span></span>
<span class="line"><span>            elementData = (size == 0)</span></span>
<span class="line"><span>                    ? EMPTY_ELEMENTDATA</span></span>
<span class="line"><span>                    : Arrays.copyOf(elementData, size);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>//ä¸‹é¢æ˜¯ArrayListçš„æ‰©å®¹æœºåˆ¶</span></span>
<span class="line"><span>//ArrayListçš„æ‰©å®¹æœºåˆ¶æé«˜äº†æ€§èƒ½ï¼Œå¦‚æœæ¯æ¬¡åªæ‰©å……ä¸€ä¸ªï¼Œ</span></span>
<span class="line"><span>//é‚£ä¹ˆé¢‘ç¹çš„æ’å…¥ä¼šå¯¼è‡´é¢‘ç¹çš„æ‹·è´ï¼Œé™ä½æ€§èƒ½ï¼Œè€ŒArrayListçš„æ‰©å®¹æœºåˆ¶é¿å…äº†è¿™ç§æƒ…å†µã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å¦‚æœ‰å¿…è¦ï¼Œå¢åŠ æ­¤ArrayListå®ä¾‹çš„å®¹é‡ï¼Œä»¥ç¡®ä¿å®ƒè‡³å°‘èƒ½å®¹çº³å…ƒç´ çš„æ•°é‡</span></span>
<span class="line"><span>     *</span></span>
<span class="line"><span>     * @param minCapacity æ‰€éœ€çš„æœ€å°å®¹é‡</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public void ensureCapacity(int minCapacity) {</span></span>
<span class="line"><span>        // å¦‚æœä¸æ˜¯é»˜è®¤ç©ºæ•°ç»„ï¼Œåˆ™minExpandçš„å€¼ä¸º0ï¼›</span></span>
<span class="line"><span>        // å¦‚æœæ˜¯é»˜è®¤ç©ºæ•°ç»„ï¼Œåˆ™minExpandçš„å€¼ä¸º10</span></span>
<span class="line"><span>        int minExpand = (elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA)</span></span>
<span class="line"><span>                // å¦‚æœä¸æ˜¯é»˜è®¤å…ƒç´ è¡¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»»æ„å¤§å°</span></span>
<span class="line"><span>                ? 0</span></span>
<span class="line"><span>                // å¦‚æœæ˜¯é»˜è®¤ç©ºæ•°ç»„ï¼Œå®ƒåº”è¯¥å·²ç»æ˜¯é»˜è®¤å¤§å°</span></span>
<span class="line"><span>                : DEFAULT_CAPACITY;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // å¦‚æœæœ€å°å®¹é‡å¤§äºå·²æœ‰çš„æœ€å¤§å®¹é‡</span></span>
<span class="line"><span>        if (minCapacity &gt; minExpand) {</span></span>
<span class="line"><span>            // æ ¹æ®éœ€è¦çš„æœ€å°å®¹é‡ï¼Œç¡®ä¿å®¹é‡è¶³å¤Ÿ</span></span>
<span class="line"><span>            ensureExplicitCapacity(minCapacity);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // æ ¹æ®ç»™å®šçš„æœ€å°å®¹é‡å’Œå½“å‰æ•°ç»„å…ƒç´ æ¥è®¡ç®—æ‰€éœ€å®¹é‡ã€‚</span></span>
<span class="line"><span>    private static int calculateCapacity(Object[] elementData, int minCapacity) {</span></span>
<span class="line"><span>        // å¦‚æœå½“å‰æ•°ç»„å…ƒç´ ä¸ºç©ºæ•°ç»„ï¼ˆåˆå§‹æƒ…å†µï¼‰ï¼Œè¿”å›é»˜è®¤å®¹é‡å’Œæœ€å°å®¹é‡ä¸­çš„è¾ƒå¤§å€¼ä½œä¸ºæ‰€éœ€å®¹é‡</span></span>
<span class="line"><span>        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {</span></span>
<span class="line"><span>            return Math.max(DEFAULT_CAPACITY, minCapacity);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        // å¦åˆ™ç›´æ¥è¿”å›æœ€å°å®¹é‡</span></span>
<span class="line"><span>        return minCapacity;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // ç¡®ä¿å†…éƒ¨å®¹é‡è¾¾åˆ°æŒ‡å®šçš„æœ€å°å®¹é‡ã€‚</span></span>
<span class="line"><span>    private void ensureCapacityInternal(int minCapacity) {</span></span>
<span class="line"><span>        ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹</span></span>
<span class="line"><span>    private void ensureExplicitCapacity(int minCapacity) {</span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span>        // overflow-conscious code</span></span>
<span class="line"><span>        if (minCapacity - elementData.length &gt; 0)</span></span>
<span class="line"><span>            //è°ƒç”¨growæ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œè°ƒç”¨æ­¤æ–¹æ³•ä»£è¡¨å·²ç»å¼€å§‹æ‰©å®¹äº†</span></span>
<span class="line"><span>            grow(minCapacity);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¦åˆ†é…çš„æœ€å¤§æ•°ç»„å¤§å°</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ArrayListæ‰©å®¹çš„æ ¸å¿ƒæ–¹æ³•ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private void grow(int minCapacity) {</span></span>
<span class="line"><span>        // oldCapacityä¸ºæ—§å®¹é‡ï¼ŒnewCapacityä¸ºæ–°å®¹é‡</span></span>
<span class="line"><span>        int oldCapacity = elementData.length;</span></span>
<span class="line"><span>        //å°†oldCapacity å³ç§»ä¸€ä½ï¼Œå…¶æ•ˆæœç›¸å½“äºoldCapacity /2ï¼Œ</span></span>
<span class="line"><span>        //æˆ‘ä»¬çŸ¥é“ä½è¿ç®—çš„é€Ÿåº¦è¿œè¿œå¿«äºæ•´é™¤è¿ç®—ï¼Œæ•´å¥è¿ç®—å¼çš„ç»“æœå°±æ˜¯å°†æ–°å®¹é‡æ›´æ–°ä¸ºæ—§å®¹é‡çš„1.5å€ï¼Œ</span></span>
<span class="line"><span>        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</span></span>
<span class="line"><span>        //ç„¶åæ£€æŸ¥æ–°å®¹é‡æ˜¯å¦å¤§äºæœ€å°éœ€è¦å®¹é‡ï¼Œè‹¥è¿˜æ˜¯å°äºæœ€å°éœ€è¦å®¹é‡ï¼Œé‚£ä¹ˆå°±æŠŠæœ€å°éœ€è¦å®¹é‡å½“ä½œæ•°ç»„çš„æ–°å®¹é‡ï¼Œ</span></span>
<span class="line"><span>        if (newCapacity - minCapacity &lt; 0)</span></span>
<span class="line"><span>            newCapacity = minCapacity;</span></span>
<span class="line"><span>        //å†æ£€æŸ¥æ–°å®¹é‡æ˜¯å¦è¶…å‡ºäº†ArrayListæ‰€å®šä¹‰çš„æœ€å¤§å®¹é‡ï¼Œ</span></span>
<span class="line"><span>        //è‹¥è¶…å‡ºäº†ï¼Œåˆ™è°ƒç”¨hugeCapacity()æ¥æ¯”è¾ƒminCapacityå’Œ MAX_ARRAY_SIZEï¼Œ</span></span>
<span class="line"><span>        //å¦‚æœminCapacityå¤§äºMAX_ARRAY_SIZEï¼Œåˆ™æ–°å®¹é‡åˆ™ä¸ºInteger.MAX_VALUEï¼Œå¦åˆ™ï¼Œæ–°å®¹é‡å¤§å°åˆ™ä¸º MAX_ARRAY_SIZEã€‚</span></span>
<span class="line"><span>        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)</span></span>
<span class="line"><span>            newCapacity = hugeCapacity(minCapacity);</span></span>
<span class="line"><span>        // minCapacity is usually close to size, so this is a win:</span></span>
<span class="line"><span>        elementData = Arrays.copyOf(elementData, newCapacity);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //æ¯”è¾ƒminCapacityå’Œ MAX_ARRAY_SIZE</span></span>
<span class="line"><span>    private static int hugeCapacity(int minCapacity) {</span></span>
<span class="line"><span>        if (minCapacity &lt; 0) // overflow</span></span>
<span class="line"><span>            throw new OutOfMemoryError();</span></span>
<span class="line"><span>        return (minCapacity &gt; MAX_ARRAY_SIZE) ?</span></span>
<span class="line"><span>                Integer.MAX_VALUE :</span></span>
<span class="line"><span>                MAX_ARRAY_SIZE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›æ­¤åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public int size() {</span></span>
<span class="line"><span>        return size;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean isEmpty() {</span></span>
<span class="line"><span>        //æ³¨æ„=å’Œ==çš„åŒºåˆ«</span></span>
<span class="line"><span>        return size == 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å¦‚æœæ­¤åˆ—è¡¨åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å›true ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean contains(Object o) {</span></span>
<span class="line"><span>        //indexOf()æ–¹æ³•ï¼šè¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ çš„é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«æ­¤å…ƒç´ ï¼Œåˆ™ä¸º-1</span></span>
<span class="line"><span>        return indexOf(o) &gt;= 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ çš„é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«æ­¤å…ƒç´ ï¼Œåˆ™ä¸º-1</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public int indexOf(Object o) {</span></span>
<span class="line"><span>        if (o == null) {</span></span>
<span class="line"><span>            for (int i = 0; i &lt; size; i++)</span></span>
<span class="line"><span>                if (elementData[i] == null)</span></span>
<span class="line"><span>                    return i;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            for (int i = 0; i &lt; size; i++)</span></span>
<span class="line"><span>                //equals()æ–¹æ³•æ¯”è¾ƒ</span></span>
<span class="line"><span>                if (o.equals(elementData[i]))</span></span>
<span class="line"><span>                    return i;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return -1;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ çš„æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«å…ƒç´ ï¼Œåˆ™è¿”å›-1ã€‚.</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public int lastIndexOf(Object o) {</span></span>
<span class="line"><span>        if (o == null) {</span></span>
<span class="line"><span>            for (int i = size - 1; i &gt;= 0; i--)</span></span>
<span class="line"><span>                if (elementData[i] == null)</span></span>
<span class="line"><span>                    return i;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            for (int i = size - 1; i &gt;= 0; i--)</span></span>
<span class="line"><span>                if (o.equals(elementData[i]))</span></span>
<span class="line"><span>                    return i;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return -1;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›æ­¤ArrayListå®ä¾‹çš„æµ…æ‹·è´ã€‚ ï¼ˆå…ƒç´ æœ¬èº«ä¸è¢«å¤åˆ¶ã€‚ï¼‰</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public Object clone() {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            ArrayList&lt;?&gt; v = (ArrayList&lt;?&gt;) super.clone();</span></span>
<span class="line"><span>            //Arrays.copyOfåŠŸèƒ½æ˜¯å®ç°æ•°ç»„çš„å¤åˆ¶ï¼Œè¿”å›å¤åˆ¶åçš„æ•°ç»„ã€‚å‚æ•°æ˜¯è¢«å¤åˆ¶çš„æ•°ç»„å’Œå¤åˆ¶çš„é•¿åº¦</span></span>
<span class="line"><span>            v.elementData = Arrays.copyOf(elementData, size);</span></span>
<span class="line"><span>            v.modCount = 0;</span></span>
<span class="line"><span>            return v;</span></span>
<span class="line"><span>        } catch (CloneNotSupportedException e) {</span></span>
<span class="line"><span>            // è¿™ä¸åº”è¯¥å‘ç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯å¯ä»¥å…‹éš†çš„</span></span>
<span class="line"><span>            throw new InternalError(e);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»¥æ­£ç¡®çš„é¡ºåºï¼ˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼‰è¿”å›ä¸€ä¸ªåŒ…å«æ­¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚</span></span>
<span class="line"><span>     * è¿”å›çš„æ•°ç»„å°†æ˜¯â€œå®‰å…¨çš„â€ï¼Œå› ä¸ºè¯¥åˆ—è¡¨ä¸ä¿ç•™å¯¹å®ƒçš„å¼•ç”¨ã€‚</span></span>
<span class="line"><span>     * ï¼ˆæ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•å¿…é¡»åˆ†é…ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼‰ã€‚</span></span>
<span class="line"><span>     * å› æ­¤ï¼Œè°ƒç”¨è€…å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹è¿”å›çš„æ•°ç»„ç»“æ„ã€‚</span></span>
<span class="line"><span>     * æ³¨æ„ï¼šå¦‚æœå…ƒç´ æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¿®æ”¹å…ƒç´ çš„å†…å®¹ä¼šå½±å“åˆ°åŸåˆ—è¡¨ä¸­çš„å¯¹è±¡ã€‚</span></span>
<span class="line"><span>     * æ­¤æ–¹æ³•å……å½“åŸºäºæ•°ç»„å’ŒåŸºäºé›†åˆçš„APIä¹‹é—´çš„æ¡¥æ¢ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public Object[] toArray() {</span></span>
<span class="line"><span>        return Arrays.copyOf(elementData, size);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»¥æ­£ç¡®çš„é¡ºåºè¿”å›ä¸€ä¸ªåŒ…å«æ­¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ï¼ˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼‰;</span></span>
<span class="line"><span>     * è¿”å›çš„æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹æ˜¯æŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ã€‚ å¦‚æœåˆ—è¡¨é€‚åˆæŒ‡å®šçš„æ•°ç»„ï¼Œåˆ™è¿”å›å…¶ä¸­ã€‚</span></span>
<span class="line"><span>     * å¦åˆ™ï¼Œå°†ä¸ºæŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹å’Œæ­¤åˆ—è¡¨çš„å¤§å°åˆ†é…ä¸€ä¸ªæ–°æ•°ç»„ã€‚</span></span>
<span class="line"><span>     * å¦‚æœåˆ—è¡¨é€‚ç”¨äºæŒ‡å®šçš„æ•°ç»„ï¼Œå…¶ä½™ç©ºé—´ï¼ˆå³æ•°ç»„çš„åˆ—è¡¨æ•°é‡å¤šäºæ­¤å…ƒç´ ï¼‰ï¼Œåˆ™ç´§è·Ÿåœ¨é›†åˆç»“æŸåçš„æ•°ç»„ä¸­çš„å…ƒç´ è®¾ç½®ä¸ºnull ã€‚</span></span>
<span class="line"><span>     * ï¼ˆè¿™ä»…åœ¨è°ƒç”¨è€…çŸ¥é“åˆ—è¡¨ä¸åŒ…å«ä»»ä½•ç©ºå…ƒç´ çš„æƒ…å†µä¸‹æ‰èƒ½ç¡®å®šåˆ—è¡¨çš„é•¿åº¦ã€‚ï¼‰</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @SuppressWarnings(&quot;unchecked&quot;)</span></span>
<span class="line"><span>    public &lt;T&gt; T[] toArray(T[] a) {</span></span>
<span class="line"><span>        if (a.length &lt; size)</span></span>
<span class="line"><span>            // æ–°å»ºä¸€ä¸ªè¿è¡Œæ—¶ç±»å‹çš„æ•°ç»„ï¼Œä½†æ˜¯ArrayListæ•°ç»„çš„å†…å®¹</span></span>
<span class="line"><span>            return (T[]) Arrays.copyOf(elementData, size, a.getClass());</span></span>
<span class="line"><span>        //è°ƒç”¨Systemæä¾›çš„arraycopy()æ–¹æ³•å®ç°æ•°ç»„ä¹‹é—´çš„å¤åˆ¶</span></span>
<span class="line"><span>        System.arraycopy(elementData, 0, a, 0, size);</span></span>
<span class="line"><span>        if (a.length &gt; size)</span></span>
<span class="line"><span>            a[size] = null;</span></span>
<span class="line"><span>        return a;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // Positional Access Operations</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @SuppressWarnings(&quot;unchecked&quot;)</span></span>
<span class="line"><span>    E elementData(int index) {</span></span>
<span class="line"><span>        return (E) elementData[index];</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public E get(int index) {</span></span>
<span class="line"><span>        rangeCheck(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        return elementData(index);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ç”¨æŒ‡å®šçš„å…ƒç´ æ›¿æ¢æ­¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public E set(int index, E element) {</span></span>
<span class="line"><span>        //å¯¹indexè¿›è¡Œç•Œé™æ£€æŸ¥</span></span>
<span class="line"><span>        rangeCheck(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        E oldValue = elementData(index);</span></span>
<span class="line"><span>        elementData[index] = element;</span></span>
<span class="line"><span>        //è¿”å›åŸæ¥åœ¨è¿™ä¸ªä½ç½®çš„å…ƒç´ </span></span>
<span class="line"><span>        return oldValue;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean add(E e) {</span></span>
<span class="line"><span>        ensureCapacityInternal(size + 1);  // Increments modCount!!</span></span>
<span class="line"><span>        //è¿™é‡Œçœ‹åˆ°ArrayListæ·»åŠ å…ƒç´ çš„å®è´¨å°±ç›¸å½“äºä¸ºæ•°ç»„èµ‹å€¼</span></span>
<span class="line"><span>        elementData[size++] = e;</span></span>
<span class="line"><span>        return true;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * åœ¨æ­¤åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     * å…ˆè°ƒç”¨ rangeCheckForAdd å¯¹indexè¿›è¡Œç•Œé™æ£€æŸ¥ï¼›ç„¶åè°ƒç”¨ ensureCapacityInternal æ–¹æ³•ä¿è¯capacityè¶³å¤Ÿå¤§ï¼›</span></span>
<span class="line"><span>     * å†å°†ä»indexå¼€å§‹ä¹‹åçš„æ‰€æœ‰æˆå‘˜åç§»ä¸€ä¸ªä½ç½®ï¼›å°†elementæ’å…¥indexä½ç½®ï¼›æœ€åsizeåŠ 1ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public void add(int index, E element) {</span></span>
<span class="line"><span>        rangeCheckForAdd(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        ensureCapacityInternal(size + 1);  // Increments modCount!!</span></span>
<span class="line"><span>        //arraycopy()è¿™ä¸ªå®ç°æ•°ç»„ä¹‹é—´å¤åˆ¶çš„æ–¹æ³•ä¸€å®šè¦çœ‹ä¸€ä¸‹ï¼Œä¸‹é¢å°±ç”¨åˆ°äº†arraycopy()æ–¹æ³•å®ç°æ•°ç»„è‡ªå·±å¤åˆ¶è‡ªå·±</span></span>
<span class="line"><span>        System.arraycopy(elementData, index, elementData, index + 1,</span></span>
<span class="line"><span>                size - index);</span></span>
<span class="line"><span>        elementData[index] = element;</span></span>
<span class="line"><span>        size++;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * åˆ é™¤è¯¥åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ å°†ä»»ä½•åç»­å…ƒç´ ç§»åŠ¨åˆ°å·¦ä¾§ï¼ˆä»å…¶ç´¢å¼•ä¸­å‡å»ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public E remove(int index) {</span></span>
<span class="line"><span>        rangeCheck(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span>        E oldValue = elementData(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        int numMoved = size - index - 1;</span></span>
<span class="line"><span>        if (numMoved &gt; 0)</span></span>
<span class="line"><span>            System.arraycopy(elementData, index + 1, elementData, index,</span></span>
<span class="line"><span>                    numMoved);</span></span>
<span class="line"><span>        elementData[--size] = null; // clear to let GC do its work</span></span>
<span class="line"><span>        //ä»åˆ—è¡¨ä¸­åˆ é™¤çš„å…ƒç´ </span></span>
<span class="line"><span>        return oldValue;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»åˆ—è¡¨ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªå‡ºç°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ å¦‚æœåˆ—è¡¨ä¸åŒ…å«è¯¥å…ƒç´ ï¼Œåˆ™å®ƒä¸ä¼šæ›´æ”¹ã€‚</span></span>
<span class="line"><span>     * è¿”å›trueï¼Œå¦‚æœæ­¤åˆ—è¡¨åŒ…å«æŒ‡å®šçš„å…ƒç´ </span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean remove(Object o) {</span></span>
<span class="line"><span>        if (o == null) {</span></span>
<span class="line"><span>            for (int index = 0; index &lt; size; index++)</span></span>
<span class="line"><span>                if (elementData[index] == null) {</span></span>
<span class="line"><span>                    fastRemove(index);</span></span>
<span class="line"><span>                    return true;</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            for (int index = 0; index &lt; size; index++)</span></span>
<span class="line"><span>                if (o.equals(elementData[index])) {</span></span>
<span class="line"><span>                    fastRemove(index);</span></span>
<span class="line"><span>                    return true;</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return false;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /*</span></span>
<span class="line"><span>     * è¯¥æ–¹æ³•ä¸ºç§æœ‰çš„ç§»é™¤æ–¹æ³•ï¼Œè·³è¿‡äº†è¾¹ç•Œæ£€æŸ¥ï¼Œå¹¶ä¸”ä¸è¿”å›è¢«ç§»é™¤çš„å€¼ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private void fastRemove(int index) {</span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span>        int numMoved = size - index - 1;</span></span>
<span class="line"><span>        if (numMoved &gt; 0)</span></span>
<span class="line"><span>            System.arraycopy(elementData, index + 1, elementData, index,</span></span>
<span class="line"><span>                    numMoved);</span></span>
<span class="line"><span>        elementData[--size] = null; // åœ¨ç§»é™¤å…ƒç´ åï¼Œå°†è¯¥ä½ç½®çš„å…ƒç´ è®¾ä¸º nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰èƒ½å¤Ÿå›æ”¶è¯¥å…ƒç´ ã€‚</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public void clear() {</span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // æŠŠæ•°ç»„ä¸­æ‰€æœ‰çš„å…ƒç´ çš„å€¼è®¾ä¸ºnull</span></span>
<span class="line"><span>        for (int i = 0; i &lt; size; i++)</span></span>
<span class="line"><span>            elementData[i] = null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        size = 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * æŒ‰æŒ‡å®šé›†åˆçš„Iteratorè¿”å›çš„é¡ºåºå°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean addAll(Collection&lt;? extends E&gt; c) {</span></span>
<span class="line"><span>        Object[] a = c.toArray();</span></span>
<span class="line"><span>        int numNew = a.length;</span></span>
<span class="line"><span>        ensureCapacityInternal(size + numNew);  // Increments modCount</span></span>
<span class="line"><span>        System.arraycopy(a, 0, elementData, size, numNew);</span></span>
<span class="line"><span>        size += numNew;</span></span>
<span class="line"><span>        return numNew != 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°æ­¤åˆ—è¡¨ä¸­ï¼Œä»æŒ‡å®šçš„ä½ç½®å¼€å§‹ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean addAll(int index, Collection&lt;? extends E&gt; c) {</span></span>
<span class="line"><span>        rangeCheckForAdd(index);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        Object[] a = c.toArray();</span></span>
<span class="line"><span>        int numNew = a.length;</span></span>
<span class="line"><span>        ensureCapacityInternal(size + numNew);  // Increments modCount</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        int numMoved = size - index;</span></span>
<span class="line"><span>        if (numMoved &gt; 0)</span></span>
<span class="line"><span>            System.arraycopy(elementData, index, elementData, index + numNew,</span></span>
<span class="line"><span>                    numMoved);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        System.arraycopy(a, 0, elementData, index, numNew);</span></span>
<span class="line"><span>        size += numNew;</span></span>
<span class="line"><span>        return numNew != 0;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰ç´¢å¼•ä¸ºfromIndex ï¼ˆå«ï¼‰å’ŒtoIndexä¹‹é—´çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     * å°†ä»»ä½•åç»­å…ƒç´ ç§»åŠ¨åˆ°å·¦ä¾§ï¼ˆå‡å°‘å…¶ç´¢å¼•ï¼‰ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    protected void removeRange(int fromIndex, int toIndex) {</span></span>
<span class="line"><span>        modCount++;</span></span>
<span class="line"><span>        int numMoved = size - toIndex;</span></span>
<span class="line"><span>        System.arraycopy(elementData, toIndex, elementData, fromIndex,</span></span>
<span class="line"><span>                numMoved);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // clear to let GC do its work</span></span>
<span class="line"><span>        int newSize = size - (toIndex - fromIndex);</span></span>
<span class="line"><span>        for (int i = newSize; i &lt; size; i++) {</span></span>
<span class="line"><span>            elementData[i] = null;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        size = newSize;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * æ£€æŸ¥ç»™å®šçš„ç´¢å¼•æ˜¯å¦åœ¨èŒƒå›´å†…ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private void rangeCheck(int index) {</span></span>
<span class="line"><span>        if (index &gt;= size)</span></span>
<span class="line"><span>            throw new IndexOutOfBoundsException(outOfBoundsMsg(index));</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * addå’ŒaddAllä½¿ç”¨çš„rangeCheckçš„ä¸€ä¸ªç‰ˆæœ¬</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private void rangeCheckForAdd(int index) {</span></span>
<span class="line"><span>        if (index &gt; size || index &lt; 0)</span></span>
<span class="line"><span>            throw new IndexOutOfBoundsException(outOfBoundsMsg(index));</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›IndexOutOfBoundsExceptionç»†èŠ‚ä¿¡æ¯</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    private String outOfBoundsMsg(int index) {</span></span>
<span class="line"><span>        return &quot;Index: &quot; + index + &quot;, Size: &quot; + size;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤æŒ‡å®šé›†åˆä¸­åŒ…å«çš„æ‰€æœ‰å…ƒç´ ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean removeAll(Collection&lt;?&gt; c) {</span></span>
<span class="line"><span>        Objects.requireNonNull(c);</span></span>
<span class="line"><span>        //å¦‚æœæ­¤åˆ—è¡¨è¢«ä¿®æ”¹åˆ™è¿”å›true</span></span>
<span class="line"><span>        return batchRemove(c, false);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»…ä¿ç•™æ­¤åˆ—è¡¨ä¸­åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     * æ¢å¥è¯è¯´ï¼Œä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤å…¶ä¸­ä¸åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public boolean retainAll(Collection&lt;?&gt; c) {</span></span>
<span class="line"><span>        Objects.requireNonNull(c);</span></span>
<span class="line"><span>        return batchRemove(c, true);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®å¼€å§‹ï¼Œè¿”å›åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼ˆæŒ‰æ­£ç¡®é¡ºåºï¼‰çš„åˆ—è¡¨è¿­ä»£å™¨ã€‚</span></span>
<span class="line"><span>     * æŒ‡å®šçš„ç´¢å¼•è¡¨ç¤ºåˆå§‹è°ƒç”¨å°†è¿”å›çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºnext ã€‚ åˆå§‹è°ƒç”¨previouså°†è¿”å›æŒ‡å®šç´¢å¼•å‡1çš„å…ƒç´ ã€‚</span></span>
<span class="line"><span>     * è¿”å›çš„åˆ—è¡¨è¿­ä»£å™¨æ˜¯fail-fast ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public ListIterator&lt;E&gt; listIterator(int index) {</span></span>
<span class="line"><span>        if (index &lt; 0 || index &gt; size)</span></span>
<span class="line"><span>            throw new IndexOutOfBoundsException(&quot;Index: &quot; + index);</span></span>
<span class="line"><span>        return new ListItr(index);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * è¿”å›åˆ—è¡¨ä¸­çš„åˆ—è¡¨è¿­ä»£å™¨ï¼ˆæŒ‰é€‚å½“çš„é¡ºåºï¼‰ã€‚</span></span>
<span class="line"><span>     * è¿”å›çš„åˆ—è¡¨è¿­ä»£å™¨æ˜¯fail-fast ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public ListIterator&lt;E&gt; listIterator() {</span></span>
<span class="line"><span>        return new ListItr(0);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä»¥æ­£ç¡®çš„é¡ºåºè¿”å›è¯¥åˆ—è¡¨ä¸­çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚</span></span>
<span class="line"><span>     * è¿”å›çš„è¿­ä»£å™¨æ˜¯fail-fast ã€‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public Iterator&lt;E&gt; iterator() {</span></span>
<span class="line"><span>        return new Itr();</span></span>
<span class="line"><span>    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¬¬ä¸€é˜¶æ®µ-arraylist-æºç å­¦ä¹ çš„åœ°å›¾" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€é˜¶æ®µ-arraylist-æºç å­¦ä¹ çš„åœ°å›¾"><span>ç¬¬ä¸€é˜¶æ®µï¼šArrayList æºç å­¦ä¹ çš„åœ°å›¾</span></a></h2><p>å¯ä»¥ç†è§£ä¸º 4 ä¸ªå±‚æ¬¡ï¼š</p><ol><li><strong>ç»“æ„æ­å»º</strong>ï¼ˆç±»å®šä¹‰ã€å­—æ®µã€ç»§æ‰¿ç»“æ„ï¼‰</li><li><strong>å¯¹è±¡æ„é€ è¿‡ç¨‹</strong>ï¼ˆä¸‰ç§æ„é€ å‡½æ•°ï¼‰</li><li><strong>æ ¸å¿ƒæ–¹æ³•å®ç°</strong>ï¼ˆå¢åˆ æ”¹æŸ¥ã€æ‰©å®¹ï¼‰</li><li><strong>è®¾è®¡ç†å¿µå’Œæ€§èƒ½ä¼˜åŒ–ç‚¹</strong>ï¼ˆæ¯”å¦‚ï¼šæ‡’åŠ è½½ã€fail-fastã€ç©ºé—´æ¢æ—¶é—´ï¼‰</li></ol><hr><h2 id="ç¬¬ä¸€æ­¥-ç»“æ„æ­å»º-â€”â€”-arraylist-æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€æ­¥-ç»“æ„æ­å»º-â€”â€”-arraylist-æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿"><span>ç¬¬ä¸€æ­¥ï¼šç»“æ„æ­å»º â€”â€” ArrayList æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ</span></a></h2><p>æ¥çœ‹è¿™ä¸€è¡Œï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span></span>
<span class="line"><span>        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable {</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>è¿™å…¶å®å°±æ˜¯ç»™è¿™ä¸ªç±»æ‰“äº†ä¸€å †â€œæ ‡ç­¾â€å’Œâ€œè¡€ç»Ÿâ€ï¼š</p><ul><li><strong><code>ArrayList&lt;E&gt;</code></strong>ï¼šè¿™æ˜¯ä¸€ä¸ª<strong>æ³›å‹ç±»</strong>ï¼Œèƒ½å­˜ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚</li><li><strong><code>extends AbstractList&lt;E&gt;</code></strong>ï¼šç»§æ‰¿äº† <code>AbstractList</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>ArrayList</code> ä¸éœ€è¦ä»é›¶é€ è½®å­ï¼Œè€Œæ˜¯é‡å†™/æ‰©å±•éƒ¨åˆ†åŠŸèƒ½ã€‚</li><li><strong><code>implements List&lt;E&gt;</code></strong>ï¼šè¿™æ˜¯å®ç°äº†æœ€å¸¸ç”¨çš„æ¥å£ï¼š<code>List</code>ã€‚ä½ ç†Ÿæ‚‰çš„ <code>.add()</code>ã€<code>.get()</code>ã€<code>.remove()</code> éƒ½æ˜¯ <code>List</code> çš„æ ‡å‡†æ“ä½œã€‚</li><li><strong><code>RandomAccess</code></strong>ï¼šè¿™ä¸ªæ¥å£å…¶å®æ˜¯ä¸ªâ€œæ ‡è®°æ¥å£â€ï¼Œå‘Šè¯‰åˆ«äººï¼šâ€œæˆ‘æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®â€ï¼Œæ¯”å¦‚ <code>.get(index)</code> æ˜¯å¸¸æ•°æ—¶é—´ã€‚</li><li><strong><code>Cloneable</code> / <code>Serializable</code></strong>ï¼šè®© <code>ArrayList</code> æ”¯æŒå…‹éš†å’Œåºåˆ—åŒ–ã€‚</li></ul><blockquote><p>å°ç»“ï¼šArrayList æ˜¯ä¸ªå°è£…äº†æ•°ç»„çš„ã€æœ‰åºã€å¯å˜ã€å¿«é€Ÿè®¿é—®çš„é›†åˆç±»ã€‚</p></blockquote><hr><h2 id="ç¬¬äºŒæ­¥-æ„é€ å‡½æ•°-â€”â€”-arraylist-æ˜¯æ€ä¹ˆåˆ›å»ºçš„" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒæ­¥-æ„é€ å‡½æ•°-â€”â€”-arraylist-æ˜¯æ€ä¹ˆåˆ›å»ºçš„"><span>ç¬¬äºŒæ­¥ï¼šæ„é€ å‡½æ•° â€”â€” ArrayList æ˜¯æ€ä¹ˆåˆ›å»ºçš„ï¼Ÿ</span></a></h2><p>ä½ çœ‹åˆ°äº†ä¸‰ç§æ„é€ æ–¹æ³•ï¼š</p><h3 id="_1-é»˜è®¤æ„é€ å™¨-å»¶è¿Ÿåˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-é»˜è®¤æ„é€ å™¨-å»¶è¿Ÿåˆå§‹åŒ–"><span>1. é»˜è®¤æ„é€ å™¨ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–ï¼‰ï¼š</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public ArrayList() {</span></span>
<span class="line"><span>    this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p><strong>æ³¨æ„ç‚¹ï¼š</strong></p><ul><li>å®ƒå¹¶ä¸ä¼šä¸€å¼€å§‹å°±åˆ›å»ºå®¹é‡ä¸º 10 çš„æ•°ç»„ï¼Œè€Œæ˜¯ç©ºçš„ã€‚</li><li>çœŸæ­£æ·»åŠ å…ƒç´ æ—¶ï¼Œå®ƒæ‰åˆ›å»ºå®¹é‡ä¸º 10 çš„æ•°ç»„ã€‚è¿™ä¸ªç­–ç•¥æ˜¯ä¸ºäº†<strong>èŠ‚çœå†…å­˜</strong>ï¼Œå¦‚æœä½ æ²¡åŠ å…ƒç´ ï¼Œå°±ä¸åˆ†é…å†…å­˜ã€‚</li></ul><h3 id="_2-æŒ‡å®šå®¹é‡çš„æ„é€ å™¨" tabindex="-1"><a class="header-anchor" href="#_2-æŒ‡å®šå®¹é‡çš„æ„é€ å™¨"><span>2. æŒ‡å®šå®¹é‡çš„æ„é€ å™¨ï¼š</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public ArrayList(int initialCapacity) {</span></span>
<span class="line"><span>    if (initialCapacity &gt; 0) {</span></span>
<span class="line"><span>        this.elementData = new Object[initialCapacity];</span></span>
<span class="line"><span>    } else if (initialCapacity == 0) {</span></span>
<span class="line"><span>        this.elementData = EMPTY_ELEMENTDATA;</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        throw new IllegalArgumentException(&quot;Illegal Capacity: &quot; + initialCapacity);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p><strong>å…³é”®ç‚¹ï¼š</strong></p><ul><li>å¯ä»¥é€šè¿‡ <code>new ArrayList&lt;&gt;(100)</code> æå‰åˆ†é…ç©ºé—´ï¼Œé¿å…åæœŸæ‰©å®¹ã€‚</li><li>å®¹é‡ä¸èƒ½ä¸ºè´Ÿï¼Œé˜²æ­¢æ¶æ„ä¼ å‚ã€‚</li></ul><h3 id="_3-collection-æ„é€ å™¨" tabindex="-1"><a class="header-anchor" href="#_3-collection-æ„é€ å™¨"><span>3. Collection æ„é€ å™¨ï¼š</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public ArrayList(Collection&lt;? extends E&gt; c) {</span></span>
<span class="line"><span>    elementData = c.toArray();</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p><strong>ç”¨é€”ï¼š</strong></p><ul><li>æŠŠç°æˆçš„é›†åˆå¿«é€Ÿè½¬æˆ ArrayListï¼Œä¾‹å¦‚ <code>new ArrayList&lt;&gt;(List.of(1, 2, 3))</code>ã€‚</li></ul><hr><h2 id="ç¬¬ä¸‰æ­¥-arraylist-å¦‚ä½•å¢åˆ æŸ¥æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰æ­¥-arraylist-å¦‚ä½•å¢åˆ æŸ¥æ”¹"><span>ç¬¬ä¸‰æ­¥ï¼šArrayList å¦‚ä½•å¢åˆ æŸ¥æ”¹ï¼Ÿ</span></a></h2><h3 id="add-e-e-æ·»åŠ ä¸€ä¸ªå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#add-e-e-æ·»åŠ ä¸€ä¸ªå…ƒç´ "><span><code>add(E e)</code>ï¼šæ·»åŠ ä¸€ä¸ªå…ƒç´ </span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public boolean add(E e) {</span></span>
<span class="line"><span>    ensureCapacityInternal(size + 1);</span></span>
<span class="line"><span>    elementData[size++] = e;</span></span>
<span class="line"><span>    return true;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>é‡ç‚¹æ˜¯ <code>ensureCapacityInternal(size + 1)</code>ï¼šå®ƒä¼šåœ¨æ•°ç»„ä¸å¤Ÿæ—¶è°ƒç”¨ <code>grow()</code> æ¥æ‰©å®¹ã€‚</p><h3 id="æ‰©å®¹é€»è¾‘-grow" tabindex="-1"><a class="header-anchor" href="#æ‰©å®¹é€»è¾‘-grow"><span>æ‰©å®¹é€»è¾‘ <code>grow()</code>ï¼š</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); // oldCapacity * 1.5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p><strong>æ‰©å®¹é€»è¾‘æ˜¯ 1.5 å€å¢é•¿ï¼Œé¿å…é¢‘ç¹å¤åˆ¶æ•°ç»„ï¼Œæå‡æ€§èƒ½ã€‚</strong></p><h3 id="remove-int-index-åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#remove-int-index-åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ "><span><code>remove(int index)</code>ï¼šåˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ </span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>System.arraycopy(elementData, index + 1, elementData, index, size - index - 1);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>å…³é”®æ˜¯ <code>System.arraycopy</code>ï¼Œæ•ˆç‡é«˜ï¼ç›´æ¥åŸåœ°æŒªåŠ¨æ•°ç»„æ•°æ®ï¼Œåˆ é™¤å…ƒç´ åï¼Œ<code>size--</code>ï¼Œå¹¶æ¸…ç©ºå°¾éƒ¨å¼•ç”¨ã€‚</p><hr><h2 id="ç¬¬å››æ­¥-arraylist-çš„ç»†èŠ‚è®¾è®¡æœ‰å“ªäº›å·§å¦™ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç¬¬å››æ­¥-arraylist-çš„ç»†èŠ‚è®¾è®¡æœ‰å“ªäº›å·§å¦™ç‚¹"><span>ç¬¬å››æ­¥ï¼šArrayList çš„ç»†èŠ‚è®¾è®¡æœ‰å“ªäº›å·§å¦™ç‚¹ï¼Ÿ</span></a></h2><h3 id="æ‡’åŠ è½½ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#æ‡’åŠ è½½ç­–ç•¥"><span>æ‡’åŠ è½½ç­–ç•¥</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>é»˜è®¤æ„é€ å‡½æ•°å¹¶ä¸ç«‹åˆ»åˆ†é… 10 ä¸ªç©ºé—´ï¼Œè€Œæ˜¯ç­‰åˆ°ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ æ—¶æ‰åˆ†é…ï¼Œ<strong>èŠ‚çœç©ºé—´å¼€é”€</strong>ã€‚</p><hr><h3 id="fail-fast-æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#fail-fast-æœºåˆ¶"><span>fail-fast æœºåˆ¶</span></a></h3><p>æ‰€æœ‰æ¶‰åŠåˆ°ç»“æ„å˜åŠ¨çš„åœ°æ–¹éƒ½ä¼šå¢åŠ  <code>modCount</code>ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>modCount++;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>å®ƒåœ¨è¿­ä»£å™¨ä¸­ç”¨æ¥æ£€æµ‹å¹¶å‘ä¿®æ”¹ï¼Œæ¯”å¦‚ä½ éå†æ—¶ç”¨äº† <code>for-each</code> ç„¶ååˆ <code>remove()</code>ï¼Œå°±ä¼šæŠ›å‡º <code>ConcurrentModificationException</code>ã€‚</p><hr><h3 id="clone-æ˜¯æµ…æ‹·è´" tabindex="-1"><a class="header-anchor" href="#clone-æ˜¯æµ…æ‹·è´"><span>clone æ˜¯æµ…æ‹·è´</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>v.elementData = Arrays.copyOf(elementData, size);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p>å…‹éš†çš„æ˜¯æ•°ç»„æœ¬èº«ï¼Œ<strong>ä½†å…ƒç´ æ˜¯å¼•ç”¨æ‹·è´</strong>ï¼Œå¦‚æœå…ƒç´ æ˜¯å¯¹è±¡ï¼Œæ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šæ”¹ã€‚</p><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h2><h3 id="è¡¥å……-ä¸ºä»€ä¹ˆ-fail-fast-æœºåˆ¶ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-ä¸ºä»€ä¹ˆ-fail-fast-æœºåˆ¶ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨"><span>è¡¥å……ï¼š <strong>ä¸ºä»€ä¹ˆ fail-fast æœºåˆ¶ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</strong></span></a></h3><p><code>fail-fast</code> æœºåˆ¶çš„ç›®çš„æ˜¯<strong>å°½æ—©å‘ç°å¹¶å‘ä¿®æ”¹</strong>ï¼ˆä¾‹å¦‚ï¼Œä¿®æ”¹é›†åˆæ—¶æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œä½†æ˜¯å®ƒ<strong>å¹¶ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨</strong>ã€‚åŸå› å¦‚ä¸‹ï¼š</p><ul><li><strong>fail-fast æœºåˆ¶ä»…é™äºå•çº¿ç¨‹ä¸­çš„â€œé”™è¯¯æ£€æµ‹â€</strong>ï¼š<code>fail-fast</code> åªä¼šåœ¨ä½ éå†é›†åˆæ—¶å‘ç°é›†åˆç»“æ„çš„ä¿®æ”¹ï¼Œå‡è®¾ä½ éå†é›†åˆï¼ˆæ¯”å¦‚ä½¿ç”¨è¿­ä»£å™¨ï¼‰æ—¶ï¼Œ<strong>å¦‚æœå…¶ä»–çº¿ç¨‹ä¿®æ”¹äº†é›†åˆç»“æ„</strong>ï¼ˆæ¯”å¦‚å¢åˆ å…ƒç´ ï¼‰ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹ä¼šæŠ›å‡º <code>ConcurrentModificationException</code> å¼‚å¸¸ã€‚å®ƒçš„ç›®çš„ä¸æ˜¯å¤„ç†å¹¶å‘é—®é¢˜ï¼Œè€Œæ˜¯ <strong>åœ¨é›†åˆå‘ç”Ÿä¸ä¸€è‡´æ—¶å°½æ—©æŠ¥è­¦</strong>ã€‚</li><li><strong>çº¿ç¨‹å®‰å…¨é—®é¢˜ä»ç„¶å­˜åœ¨</strong>ï¼šå³ä½¿ <code>fail-fast</code> æœºåˆ¶å¯ä»¥åœ¨ä½ ä¿®æ”¹é›†åˆæ—¶æŠ¥è­¦ï¼Œä½†å®ƒå¹¶æ²¡æœ‰åŒæ­¥æœºåˆ¶æ¥ç¡®ä¿å¤šä¸ªçº¿ç¨‹è®¿é—®é›†åˆæ—¶ä¸ä¼šå‘ç”Ÿå†²çªã€‚æ¯”å¦‚ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªé›†åˆï¼Œå³ä½¿ <code>fail-fast</code> å¯ä»¥åœ¨æŸä¸ªçº¿ç¨‹æŠ›å‡ºå¼‚å¸¸ï¼Œ<strong>å…¶ä»–çº¿ç¨‹ä»ç„¶å¯èƒ½ä¼šé‡åˆ°ä¸ä¸€è‡´çš„çŠ¶æ€</strong>ï¼Œå¹¶ä¸”æ²¡æœ‰åŠæ³•ç¡®ä¿çº¿ç¨‹ä¹‹é—´çš„æ“ä½œä¸ä¼šç›¸äº’å¹²æ‰°ã€‚</li></ul><p>ä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä½ éœ€è¦ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼Œæ¯”å¦‚ <code>synchronized</code> å…³é”®å­—ï¼Œæˆ–è€…ä½¿ç”¨åƒ <code>CopyOnWriteArrayList</code> è¿™æ ·çš„çº¿ç¨‹å®‰å…¨é›†åˆã€‚</p><p><strong>æ€»ç»“</strong>ï¼š</p><ul><li><code>fail-fast</code> æœºåˆ¶åœ¨å¹¶å‘ä¿®æ”¹æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œæé†’ä½ ä»£ç å‡ºé”™äº†ã€‚</li><li>ä½†å®ƒå¹¶ä¸æä¾›åŒæ­¥æˆ–çº¿ç¨‹å®‰å…¨çš„ä¿è¯ï¼Œå¦‚æœè¦ç¡®ä¿å¤šçº¿ç¨‹è®¿é—®é›†åˆæ—¶çš„çº¿ç¨‹å®‰å…¨ï¼Œéœ€è¦æ˜¾å¼åœ°åŠ é”æˆ–ä½¿ç”¨ä¸“é—¨çš„çº¿ç¨‹å®‰å…¨é›†åˆç±»ã€‚</li></ul></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Nu11Cat/Nu11Cat.github.io/edit/main/docs/1.å­¦ä¹ ç¯‡/1.JavaåŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ/10.ArrayList æ ¸å¿ƒæºç .md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last Updated:</span><time class="vp-meta-info" datetime="2025-05-15T14:56:13.000Z" data-allow-mismatch>5/15/25, 2:56 PM</time></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2111867383@qq.com">Nu11Cat</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/1.%E5%AD%A6%E4%B9%A0%E7%AF%87/1.Java%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/9.Java%E5%9F%BA%E7%A1%80-%E7%BC%96%E8%AF%91%E8%A7%A3%E9%87%8A.html" aria-label="9.JavaåŸºç¡€-ç¼–è¯‘è§£é‡Š"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->9.JavaåŸºç¡€-ç¼–è¯‘è§£é‡Š</div></a><!----></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BbsWlyC7.js" defer></script>
  </body>
</html>
